# ğŸ“¸ Snapverse â€” A Scalable MERN App with AI Captioning & Secure Post Uploads

Snapverse is a full-stack MERN application designed to let users upload images, generate AI-powered captions, and share posts securely. Built with JWT authentication, cookie-based session management, and Cloudinary integration, Snapverse is your playground for backend mastery and real-world deployment.

---

## ğŸš€ Features

- ğŸ” **User Registration & Login** with hashed passwords using `bcrypt`
- ğŸª **JWT Token + Secure Cookies** for authentication
- ğŸ–¼ï¸ **Image Uploads** via `multer` and `Cloudinary`
- ğŸ§  **AI Captioning** using Gemini API (`gemini-2.5-flash`)
- ğŸ§¾ **Protected Routes** with custom middleware
- ğŸ—ƒï¸ **MongoDB Models** for users and posts
- ğŸ“¦ **Modular Structure** with controllers, routes, services, and middleware

---

## ğŸ—‚ï¸ Project Structure

MINIINSTA/
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ controllers/
â”‚ â”‚ â”œâ”€â”€ auth.controller.js # Register & Login logic
â”‚ â”‚ â””â”€â”€ post.controller.js # Post creation logic (AI + upload)
â”‚ â”œâ”€â”€ db/
â”‚ â”‚ â””â”€â”€ db.js # MongoDB connection
â”‚ â”œâ”€â”€ middlewares/
â”‚ â”‚ â””â”€â”€ auth.middleware.js # JWT token verification
â”‚ â”œâ”€â”€ models/
â”‚ â”‚ â”œâ”€â”€ user.model.js # User Schema
â”‚ â”‚ â””â”€â”€ post.models.js # Post Schema (Image + Caption + User ref)
â”‚ â”œâ”€â”€ routes/
â”‚ â”‚ â”œâ”€â”€ auth.routes.js # /register & /login routes
â”‚ â”‚ â””â”€â”€ post.routes.js # /create (Protected) route
â”‚ â””â”€â”€ service/
â”‚ â””â”€â”€ ai.service.js # Gemini API integration
â”‚
â”œâ”€â”€ .env # Environment variables
â”œâ”€â”€ app.js # Express app setup
â”œâ”€â”€ server.js # Main server entry point
â”œâ”€â”€ package.json
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

2ï¸âƒ£ Install dependencies
bash
Copy code
npm install
3ï¸âƒ£ Setup your .env file
Create a .env file in the root folder and add:

ini
Copy code
MONGO_URI=your_mongodb_connection_string
GEMINI_API_KEY=your_gemini_api_key
jwtSecret=your_jwt_secret
4ï¸âƒ£ Run the server
bash
Copy code
npx nodemon server.js
ğŸ”‘ Authentication Flow
User registers â†’ password hashed using bcrypt

A JWT token is generated and stored in HTTP-only cookie

When user logs in, new token is issued and cookie updated

Protected routes (like post upload) require valid token
Middleware: auth.middleware.js â†’ verifies token â†’ attaches user info â†’ continues to controller

ğŸ“¦ API Endpoints
Method	Endpoint	Description
POST	/register	Register a new user
POST	/login	Login existing user
POST	/create	Create post with image + AI caption (Protected)
GET	/profile/:id	View user profile
PUT	/like/:postId	Like or unlike a post (Planned)

ğŸ§  AI Caption Flow
User uploads image via frontend

Backend (via post.controller.js) converts image to Base64

Sends image to Gemini API through ai.service.js

Receives AI-generated caption

Saves both image URL + caption + user reference in MongoDB

â˜ï¸ Cloud Storage (Optional)
You can connect any cloud storage like:

Cloudinary (easiest for beginners)

Firebase Storage

AWS S3

Your Multer middleware will upload files â†’ get back a cloud URL â†’ store that in MongoDB instead of local file path.

ğŸ§ª Example .env file
env
Copy code
PORT=5000
MONGO_URI=mongodb+srv://<your-db>
jwtSecret=mysecretkey
GEMINI_API_KEY=AIzaSyD......
CLOUDINARY_URL=cloudinary://<api_key>:<secret>@<cloud_name>


ğŸ’¬ Future Enhancements
ğŸ’Œ Comments on posts

ğŸ§‘â€ğŸ¤â€ğŸ§‘ Follow system

ğŸŒ Cloud image storage (Cloudinary/Firebase)

ğŸ§­ Pagination and search

âš¡ Frontend with React (MERN Integration)